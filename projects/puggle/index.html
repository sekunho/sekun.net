<!doctype html><html lang=en><title>puggle - sekun</title><link href=/assets/css/style.css rel=stylesheet><link href=/assets/images/favicon.ico rel=icon><link href=/assets/images/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/assets/images/apple-touch-icon.png rel=apple-touch-icon><link href=/assets/images/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/assets/images/safari-pinned-tab.svg rel=mask-icon><meta content="width=device-width,initial-scale=1.0" name=viewport><meta charset=UTF-8><body><nav class=nav><ul><li><a href=/>Œªsekun.net</a><li><a href=/blog>/blog</a><li><a href=/projects>/projects</a><li><a href=/contact>/contact</a></ul></nav><h1 id=[ann]-puggle-v0.1---yet-another-static-site-generator><a href=#[ann]-puggle-v0.1---yet-another-static-site-generator>[ANN] puggle v0.1 - yet another static site generator</a></h1><p><a href=https://github.com/sekunho/puggle>GitHub</a><div></div><div><x-figure> <template shadowrootmode=open><figure><img alt="A drawing of an ant eater" src=/assets/images/projects/puggle/cover.png><figcaption><slot></slot></figcaption></figure> <style>figure{margin:1.5rem auto;display:block;& img{width:100%}& figcaption{text-align:center;color:#a89984;font-style:italic}}</style></template> Anteater from Im australischen Busch und an den K√ºsten des Korallenmeeres. Reiseerlebnisse und Beobachtungen eines Naturforschers in Australien, Neu Guinea und den Molukken (1866) - <a href=https://creazilla.com/media/traditional-art/3446271/anteater-from-im-australischen-busch-und-an-den-kusten-des-korallenmeeres.-reiseerlebnisse-und-beobachtungen-eines-naturforschers-in-australien-neu-guinea-und-den-molukken-1866-published-by-richard-wolfgang-semon.>Source</a> </x-figure></div><p><code>puggle</code> is a site generator for when you wish to turn your markdown files into a bunch of HTML pages.<h2 id=features><a href=#features>Features</a></h2><ul><li><strong>Flexible.</strong> It doesn‚Äôt fully rely on a <a href=https://gohugo.io/getting-started/directory-structure/>directory-based</a> structure to generate pages. Instead, pages are explicitly defined in the config file.<li><strong>Expressive.</strong> You may use control flow, conditionals, loops, or even embed other templates into your markdown files.<li><strong>Portable binary</strong>. Just download <code>puggle</code> binary, and puggle away!</ul><blockquote><p>‚ÄúFun‚Äù fact: This started off as a module in <a href=https://github.com/sekunho/sekun.net><code>site</code></a> but then it became more clear to me that it could be its own project. I couldn‚Äôt find a name for it so I ended up using a term I learned about recently ‚Äî <em>puggle</em>.</blockquote><h2 id=quick-start><a href=#quick-start>Quick start</a></h2><p>A <code>puggle</code> project starts with a configuration file <code>puggle.yml</code>. This config file allows us to define the pages we want to have for our static site.<pre style=background-color:#282828>
<span style=color:#928374;font-style:italic># ./puggle.yml
</span><span style=color:#83a598>templates_dir</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>templates
</span><span style=color:#83a598>dest_dir</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>dist
</span><span style=color:#fbf1c7>
</span><span style=color:#83a598>pages</span><span style=color:#fbf1c7>:
</span><span style=color:#fbf1c7>  - </span><span style=color:#83a598>name</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>blog
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>template_path</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>layout/blog.html
</span></pre><p>Here we defined a page called <code>blog</code>, as well as the relative path to the template that it should use. This template will be used to generate the HTML file for our blog page.<p>We also specified our templates directory. This is the base path of all <code>template_path</code>s. So in our example, the actual relative path <code>puggle</code> will use is <code>./templates/layout/blog.html</code>.<p>Next, let‚Äôs create our blog page‚Äôs template.<pre style=background-color:#282828>
<span style=color:#928374;font-style:italic>&lt;!-- ./templates/layout/blog.html -->
</span><span style=color:#83a598>&lt;!</span><span style=color:#fb4934>DOCTYPE </span><span style=color:#d3869b>html</span><span style=color:#83a598>>
</span><span style=color:#83a598>&lt;html>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;head>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>&lt;title></span><span style=color:#fbf1c7>Blog</span><span style=color:#83a598>&lt;/title>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/head>
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;body>
</span><span style=color:#fbf1c7>    Welcome to my blog.
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/body>
</span><span style=color:#83a598>&lt;/html>
</span></pre><p>Running <code>puggle build</code> would create the following:<pre style=background-color:#282828>
<span style=color:#fbf1c7>dist
</span><span style=color:#fbf1c7>‚îî‚îÄ blog
</span><span style=color:#fbf1c7>   ‚îî‚îÄ index.html
</span></pre><p>‚Ä¶with an <code>dist/blog/index.html</code><pre style=background-color:#282828>
<span style=color:#928374;font-style:italic>&lt;!-- ./dist/blog/index.html -->
</span><span style=color:#83a598>&lt;!</span><span style=color:#fb4934>DOCTYPE </span><span style=color:#d3869b>html</span><span style=color:#83a598>>
</span><span style=color:#83a598>&lt;html>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;head>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>&lt;title></span><span style=color:#fbf1c7>Blog</span><span style=color:#83a598>&lt;/title>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/head>
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;body></span><span style=color:#fbf1c7>Welcome to my blog.</span><span style=color:#83a598>&lt;/body>
</span><span style=color:#83a598>&lt;/html>
</span></pre><p>This is not very interesting though because we want to have posts in our blog. We also want our template to be slightly different from our main blog page. So let‚Äôs create some entries!<p><code>puggle</code> has two ways of sourcing page entries:<ol><li>Fetch every single markdown file in a specific directory, recursively; and<li>Referencing the markdown file directly.</ol><p>Let‚Äôs update our <code>puggle.yml</code>.<pre style=background-color:#282828>
<span style=color:#928374;font-style:italic># ./puggle.yml
</span><span style=color:#83a598>templates_dir</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>templates
</span><span style=color:#83a598>dest_dir</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>dist
</span><span style=color:#fbf1c7>
</span><span style=color:#83a598>pages</span><span style=color:#fbf1c7>:
</span><span style=color:#fbf1c7>  - </span><span style=color:#83a598>name</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>blog
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>template_path</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>layout/blog.html
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>entries</span><span style=color:#fbf1c7>:
</span><span style=color:#fbf1c7>      - </span><span style=color:#83a598>source_dir</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>blog/posts
</span><span style=color:#fbf1c7>        </span><span style=color:#83a598>template_path</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>layout/post.html
</span></pre><p>Here we‚Äôre defining our source directory for our blog‚Äôs entries to be <code>./blog/posts</code>. <code>puggle</code> will search for every single markdown file under that directory.<p>Then create <code>./blog/posts/first.md</code><pre style=background-color:#282828>
<span style=color:#928374;font-style:italic>&lt;!-- ./blog/posts/first.md -->
</span><span style=color:#fbf1c7>---
</span><span style=color:#fbf1c7>title: First post
</span><span style=color:#fbf1c7>summary: For my first blog post, I shall...
</span><span style=color:#fbf1c7>cover: "/assets/images/post_cover.jpg"
</span><span style=color:#fbf1c7>created_at: 2024-06-29T17:29:00Z
</span><span style=color:#fbf1c7>updated_at:
</span><span style=color:#fbf1c7>tags: ["hello", "world"]
</span><span style=color:#98971a>---
</span><span style=color:#fbf1c7>
</span><span style=color:#98971a># </span><span style=color:#b8bb26>First post
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>Hello, world!
</span></pre><blockquote><p>üí° You‚Äôll notice a YAML-style metadata block at the top of the markdown file, and this is what allows you to do some pretty cool things with <code>puggle</code>. For now, just think of it as potentially useful data that we could use.<p>Here‚Äôs a quick rundown:<ul><li><code>title</code> (required): Used to label your page entry‚Äôs title. You can use this to index a page‚Äôs entries.<li><code>created_at</code> (required): UTC timestamp of when the page was created. e.g <code>2024-06-29T17:29:00Z</code><li><code>updated_at</code> (can be left blank): UTC timestamp of when the page was updated. e.g <code>2024-06-29T17:29:00Z</code><li><code>tags</code> (required): A list of strings. You may define this as an empty list. e.g <code>["nixos", "rust"]</code></ul></blockquote><p>And a template for our blog‚Äôs entries<pre style=background-color:#282828>
<span style=color:#928374;font-style:italic>&lt;!-- ./templates/layout/post.html -->
</span><span style=color:#83a598>&lt;!</span><span style=color:#fb4934>DOCTYPE </span><span style=color:#d3869b>html</span><span style=color:#83a598>>
</span><span style=color:#83a598>&lt;html>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;head>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>&lt;title></span><span style=color:#fbf1c7>Blog Post</span><span style=color:#83a598>&lt;/title>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/head>
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;body>
</span><span style=color:#fbf1c7>    {% block content %}{% endblock %}
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/body>
</span><span style=color:#83a598>&lt;/html>
</span></pre><p>The <code>{% block content %}{% endblock %}</code> defines a <code>block</code> statement for us to inject content into it. <code>puggle</code> requires the content block to be present in the entry template otherwise it would have nowhere to inject the generated HTML file into, and would result in a blank HTML file.<p><code>puggle build</code> would then create the following:<pre style=background-color:#282828>
<span style=color:#fbf1c7>dist
</span><span style=color:#fbf1c7>‚îî‚îÄ blog
</span><span style=color:#fbf1c7>   ‚îú‚îÄ first
</span><span style=color:#fbf1c7>   ‚îÇ  ‚îî‚îÄ index.html
</span><span style=color:#fbf1c7>   ‚îî‚îÄ index.html
</span></pre><p>‚Ä¶with an <code>dist/blog/first/index.html</code><pre style=background-color:#282828>
<span style=color:#928374;font-style:italic>&lt;!-- ./dist/blog/first/index.html -->
</span><span style=color:#83a598>&lt;!</span><span style=color:#fb4934>DOCTYPE </span><span style=color:#d3869b>html</span><span style=color:#83a598>>
</span><span style=color:#83a598>&lt;html>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;head>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>&lt;title></span><span style=color:#fbf1c7>Blog</span><span style=color:#83a598>&lt;/title>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/head>
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;body>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>&lt;h1></span><span style=color:#fbf1c7>First post</span><span style=color:#83a598>&lt;/h1>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>&lt;p></span><span style=color:#fbf1c7>Hello, world!</span><span style=color:#83a598>&lt;/p>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/body>
</span><span style=color:#83a598>&lt;/html>
</span></pre><h3 id=page-entry-metadata><a href=#page-entry-metadata>Page entry metadata</a></h3><p>Metadata provides a lot of flexibility for you to inject data into your templates, or markdown files.<p>Therefore changing our blog entry to<pre style=background-color:#282828>
<span style=color:#928374;font-style:italic>&lt;!-- ./blog/posts/first.md -->
</span><span style=color:#fbf1c7>---
</span><span style=color:#fbf1c7>title: First post
</span><span style=color:#fbf1c7>summary: For my first blog post, I shall...
</span><span style=color:#fbf1c7>cover: "/assets/images/post_cover.jpg"
</span><span style=color:#fbf1c7>created_at: 2024-06-29T17:29:00Z
</span><span style=color:#fbf1c7>updated_at:
</span><span style=color:#fbf1c7>tags: ["hello", "world"]
</span><span style=color:#98971a>---
</span><span style=color:#fbf1c7>
</span><span style=color:#98971a># </span><span style=color:#b8bb26>puggle
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>Hello, world!
</span></pre><p>Would give us the same result because <code>puggle</code> understands that we‚Äôre referencing the <code>title</code> attribute defined in the entry‚Äôs metadata. <code>puggle</code> also allows you to use <em>all</em> page entries‚Äô metadata in other pages.<p>The entry‚Äôs template file can also reference the entry‚Äôs metadata so you could set the <code>title</code> tag to our entry title for example.<pre style=background-color:#282828>
<span style=color:#928374;font-style:italic>&lt;!-- ./templates/layout/post.html -->
</span><span style=color:#83a598>&lt;!</span><span style=color:#fb4934>DOCTYPE </span><span style=color:#d3869b>html</span><span style=color:#83a598>>
</span><span style=color:#83a598>&lt;html>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;head>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>&lt;title></span><span style=color:#fbf1c7>puggle - Blog</span><span style=color:#83a598>&lt;/title>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/head>
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;body>
</span><span style=color:#fbf1c7>    {% block content %}{% endblock %}
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/body>
</span><span style=color:#83a598>&lt;/html>
</span></pre><blockquote><p>You can‚Äôt reference metadata attributes in a page entry from another entry because each entry can only know about its own metadata.</blockquote><p>Let‚Äôs index our blog‚Äôs entries in our blog page!<pre style=background-color:#282828>
<span style=color:#928374;font-style:italic>&lt;!-- ./templates/layout/blog.html -->
</span><span style=color:#83a598>&lt;!</span><span style=color:#fb4934>DOCTYPE </span><span style=color:#d3869b>html</span><span style=color:#83a598>>
</span><span style=color:#83a598>&lt;html>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;head>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>&lt;title></span><span style=color:#fbf1c7>Blog</span><span style=color:#83a598>&lt;/title>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/head>
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;body>
</span><span style=color:#fbf1c7>    Welcome to my blog.
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>    {% for page_name, page_entries in sections|items %}
</span><span style=color:#fbf1c7>      {% if page_name == "blog" %}
</span><span style=color:#fbf1c7>        </span><span style=color:#83a598>&lt;ul>
</span><span style=color:#fbf1c7>          {% for entry in entries %}
</span><span style=color:#fbf1c7>            </span><span style=color:#83a598>&lt;li></span><span style=color:#fbf1c7>{{ entry.created_at|dateformat(format="short") }} - {{ entry.title }}</span><span style=color:#83a598>&lt;/li>
</span><span style=color:#fbf1c7>          {% endfor %}
</span><span style=color:#fbf1c7>        </span><span style=color:#83a598>&lt;/ul>
</span><span style=color:#fbf1c7>      {% endif %}
</span><span style=color:#fbf1c7>    {% endfor %}
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/body>
</span><span style=color:#83a598>&lt;/html>
</span></pre><p>Would result in this HTML page<pre style=background-color:#282828>
<span style=color:#928374;font-style:italic>&lt;!-- ./dist/blog/index.html -->
</span><span style=color:#83a598>&lt;!</span><span style=color:#fb4934>DOCTYPE </span><span style=color:#d3869b>html</span><span style=color:#83a598>>
</span><span style=color:#83a598>&lt;html>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;head>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>&lt;title></span><span style=color:#fbf1c7>Blog</span><span style=color:#83a598>&lt;/title>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/head>
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;body>
</span><span style=color:#fbf1c7>    Welcome to my blog.
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>&lt;ul>
</span><span style=color:#fbf1c7>      </span><span style=color:#83a598>&lt;li></span><span style=color:#fbf1c7>2024-06-29 - First post</span><span style=color:#83a598>&lt;/li>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>&lt;/ul>
</span><span style=color:#fbf1c7>  </span><span style=color:#83a598>&lt;/body>
</span><span style=color:#83a598>&lt;/html>
</span></pre><h2 id=conclusion><a href=#conclusion>Conclusion</a></h2><p>I think <code>puggle</code> is pretty simple, and in a way, limited in what it can do. But it‚Äôs flexible, and expressive enough especially thanks to <code>jinja2</code>, specifically <a href=https://github.com/mitsuhiko/minijinja><code>mitsuhiko/minijinja</code></a>. This entire site uses <code>puggle</code>! Perhaps, in the future, I could extend <code>puggle</code> a bit more to be easier to work with.<hr><p>Here‚Äôs the <code>puggle.yml</code> complete manifest.<pre style=background-color:#282828>
<span style=color:#928374;font-style:italic># puggle.yml
</span><span style=color:#fbf1c7>
</span><span style=color:#928374;font-style:italic>## Relative or absolute path to your templates' root directory.
</span><span style=color:#83a598>templates_dir</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>&lt;DIR_PATH>
</span><span style=color:#fbf1c7>
</span><span style=color:#928374;font-style:italic>## Relative or absolute path to the directory you want the HTML pages to be.
</span><span style=color:#83a598>dest_dir</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>&lt;DIR_PATH>
</span><span style=color:#fbf1c7>
</span><span style=color:#83a598>pages</span><span style=color:#fbf1c7>:
</span><span style=color:#fbf1c7>  </span><span style=color:#928374;font-style:italic>## Define a standalone page
</span><span style=color:#fbf1c7>  - </span><span style=color:#83a598>name</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>&lt;STRING>
</span><span style=color:#fbf1c7>    </span><span style=color:#928374;font-style:italic># Relative path from `templates_dir`
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>template_path</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>&lt;FILE_PATH>
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>  </span><span style=color:#928374;font-style:italic>## Define a page with entries
</span><span style=color:#fbf1c7>  - </span><span style=color:#83a598>name</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>&lt;STRING>
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>template_path</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>&lt;FILE_PATH>
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>    </span><span style=color:#928374;font-style:italic>## Entries are, well, entries under a certain page. You may think of it like
</span><span style=color:#fbf1c7>    </span><span style=color:#928374;font-style:italic>## how you would with a blog with posts in it.
</span><span style=color:#fbf1c7>    </span><span style=color:#83a598>entries</span><span style=color:#fbf1c7>:
</span><span style=color:#fbf1c7>      </span><span style=color:#928374;font-style:italic>## You may use a folder to put all your markdown files. `puggle` will also
</span><span style=color:#fbf1c7>      </span><span style=color:#928374;font-style:italic>## recursively traverse nested directories in this folder.
</span><span style=color:#fbf1c7>      - </span><span style=color:#83a598>source_dir</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>&lt;DIR_PATH>
</span><span style=color:#fbf1c7>        </span><span style=color:#83a598>template_path</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>&lt;FILE_PATH>
</span><span style=color:#fbf1c7>
</span><span style=color:#fbf1c7>      </span><span style=color:#928374;font-style:italic>## Or you may directly reference a markdown file.
</span><span style=color:#fbf1c7>      - </span><span style=color:#83a598>markdown_path</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>&lt;FILE_PATH>
</span><span style=color:#fbf1c7>        </span><span style=color:#83a598>template_path</span><span style=color:#fbf1c7>: </span><span style=color:#b8bb26>&lt;FILE_PATH>
</span></pre><footer><img src=/assets/images/not-by-ai.png style=width:8rem><div>Copyright <a href=https://github.com/sekunho>SEKUN</a> 2022-2025. Generated by <a href=/projects/puggle><code>puggle</code></a>.</div></footer><a href=https://mastodon.social/@sekun rel=me style=display:none>Mastodon</a><script>(function a(b){b.querySelectorAll(`template[shadowrootmode]`).forEach(b=>{const c=b.getAttribute(`shadowrootmode`);const d=b.parentNode.attachShadow({mode:c});d.appendChild(b.content);b.remove();a(d)})})(document)</script>