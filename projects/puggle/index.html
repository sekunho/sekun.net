<!DOCTYPE html>
<html lang="en">
  <head>
    <title>puggle - sekun</title>

    <link rel="stylesheet" href="/assets/css/style.css"/>

    <link rel="icon" href="/assets/images/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png">
    <link rel="mask-icon" href="/assets/images/safari-pinned-tab.svg">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/nix.min.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    
  </head>

  <body>
    <nav class="nav">
  <ul>
    <li><a href="/">Œªsekun.net</a></li>
    <li><a href="/blog">/blog</a></li>
    <li><a href="/projects">/projects</a></li>
    <li><a href="/contact">/contact</a></li>
  </ul>
</nav>
    
<h1>[ANN] puggle v0.1 - yet another static site generator</h1>
<p><a href="https://github.com/sekunho/puggle">GitHub</a></p>
<div>

</div>
<div>

  <x-figure>
    <template shadowrootmode="open">
      <figure>
        <img src="/assets/images/projects/puggle/cover.png" alt="A drawing of an ant eater"/>
        <figcaption><slot></slot></figcaption>
      </figure>

      <style>
        figure {
          

          

          display: block;
          margin: 1.5rem auto;

          img {
            width: 100%;
          }

          figcaption {
            text-align: center;
            color: #a89984;
            font-style: italic;
          }
        }
      </style>
    </template>
    
    Anteater from Im australischen Busch und an den K√ºsten des Korallenmeeres. Reiseerlebnisse und Beobachtungen eines Naturforschers in Australien, Neu Guinea und den Molukken (1866) -
    <a href="https://creazilla.com/media/traditional-art/3446271/anteater-from-im-australischen-busch-und-an-den-kusten-des-korallenmeeres.-reiseerlebnisse-und-beobachtungen-eines-naturforschers-in-australien-neu-guinea-und-den-molukken-1866-published-by-richard-wolfgang-semon.">Source</a>

  </x-figure>

</div>
<p><code>puggle</code> is a site generator for when you wish to turn your markdown files into
a bunch of HTML pages.</p>
<h2>Features</h2>
<ul>
<li><strong>Flexible.</strong> It doesn‚Äôt fully rely on a <a href="https://gohugo.io/getting-started/directory-structure/">directory-based</a>
structure to generate pages. Instead, pages are explicitly defined in the config file.</li>
<li><strong>Expressive.</strong> You may use control flow, conditionals, loops, or even embed
other templates into your markdown files.</li>
<li><strong>Portable binary</strong>. Just download <code>puggle</code> binary, and puggle away!</li>
</ul>
<blockquote>
<p>‚ÄúFun‚Äù fact: This started off as a module in <a href="https://github.com/sekunho/sekun.net"><code>site</code></a>
but then it became more clear to me that it could be its own project. I couldn‚Äôt
find a name for it so I ended up using a term I learned about recently ‚Äî
<em>puggle</em>.</p>
</blockquote>
<h2>Quick start</h2>
<p>A <code>puggle</code> project starts with a configuration file <code>puggle.yml</code>. This config
file allows us to define the pages we want to have for our static site.</p>
<pre><code class="language-yaml"># ./puggle.yml
templates_dir: templates
dest_dir: dist

pages:
  - name: blog
    template_path: layout/blog.html
</code></pre>
<p>Here we defined a page called <code>blog</code>, as well as the relative path to the template
that it should use. This template will be used to generate the HTML file for our
blog page.</p>
<p>We also specified our templates directory. This is the base path of all
<code>template_path</code>s. So in our example, the actual relative path <code>puggle</code> will use
is <code>./templates/layout/blog.html</code>.</p>
<p>Next, let‚Äôs create our blog page‚Äôs template.</p>
<pre><code class="language-html">&lt;!-- ./templates/layout/blog.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Blog&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    Welcome to my blog.
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Running <code>puggle build</code> would create the following:</p>
<pre><code>dist
‚îî‚îÄ blog
   ‚îî‚îÄ index.html
</code></pre>
<p>‚Ä¶with an <code>dist/blog/index.html</code></p>
<pre><code class="language-html">&lt;!-- ./dist/blog/index.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Blog&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;Welcome to my blog.&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>This is not very interesting though because we want to have posts in our blog.
We also want our template to be slightly different from our main blog page.
So let‚Äôs create some entries!</p>
<p><code>puggle</code> has two ways of sourcing page entries:</p>
<ol>
<li>Fetch every single markdown file in a specific directory, recursively; and</li>
<li>Referencing the markdown file directly.</li>
</ol>
<p>Let‚Äôs update our <code>puggle.yml</code>.</p>
<pre><code class="language-yaml"># ./puggle.yml
templates_dir: templates
dest_dir: dist

pages:
  - name: blog
    template_path: layout/blog.html

    entries:
      - source_dir: blog/posts
        template_path: layout/post.html
</code></pre>
<p>Here we‚Äôre defining our source directory for our blog‚Äôs entries to be <code>./blog/posts</code>.
<code>puggle</code> will search for every single markdown file under that directory.</p>
<p>Then create <code>./blog/posts/first.md</code></p>
<pre><code class="language-md">&lt;!-- ./blog/posts/first.md --&gt;
---
title: First post
summary: For my first blog post, I shall...
cover: "/assets/images/post_cover.jpg"
created_at: 2024-06-29T17:29:00Z
updated_at:
tags: ["hello", "world"]
---

# First post

Hello, world!
</code></pre>
<blockquote>
<p>üí° You‚Äôll notice a YAML-style metadata block at the top of the markdown file,
and this is what allows you to do some pretty cool things with <code>puggle</code>. For
now, just think of it as potentially useful data that we could use.</p>
<p>Here‚Äôs a quick rundown:</p>
<ul>
<li><code>title</code> (required): Used to label your page entry‚Äôs title. You can use this to
index a page‚Äôs entries.</li>
<li><code>created_at</code> (required): UTC timestamp of when the page was created. e.g <code>2024-06-29T17:29:00Z</code></li>
<li><code>updated_at</code> (can be left blank): UTC timestamp of when the page was updated. e.g <code>2024-06-29T17:29:00Z</code></li>
<li><code>tags</code> (required): A list of strings. You may define this as an empty list. e.g <code>["nixos", "rust"]</code></li>
</ul>
</blockquote>
<p>And a template for our blog‚Äôs entries</p>
<pre><code class="language-html">&lt;!-- ./templates/layout/post.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Blog Post&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    {% block content %}{% endblock %}
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>The <code>{% block content %}{% endblock %}</code> defines a <code>block</code>
statement for us to inject content into it. <code>puggle</code> requires the content block
to be present in the entry template otherwise it would have nowhere to inject
the generated HTML file into, and would result in a blank HTML file.</p>
<p><code>puggle build</code> would then create the following:</p>
<pre><code>dist
‚îî‚îÄ blog
   ‚îú‚îÄ first
   ‚îÇ  ‚îî‚îÄ index.html
   ‚îî‚îÄ index.html
</code></pre>
<p>‚Ä¶with an <code>dist/blog/first/index.html</code></p>
<pre><code class="language-html">&lt;!-- ./dist/blog/first/index.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Blog&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;h1&gt;First post&lt;/h1&gt;
    &lt;p&gt;Hello, world!&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3>Page entry metadata</h3>
<p>Metadata provides a lot of flexibility for you to inject data into your templates,
or markdown files.</p>
<p>Therefore changing our blog entry to</p>
<pre><code class="language-md">&lt;!-- ./blog/posts/first.md --&gt;
---
title: First post
summary: For my first blog post, I shall...
cover: "/assets/images/post_cover.jpg"
created_at: 2024-06-29T17:29:00Z
updated_at:
tags: ["hello", "world"]
---

# puggle

Hello, world!
</code></pre>
<p>Would give us the same result because <code>puggle</code> understands that we‚Äôre referencing
the <code>title</code> attribute defined in the entry‚Äôs metadata. <code>puggle</code> also allows you
to use <em>all</em> page entries‚Äô metadata in other pages.</p>
<p>The entry‚Äôs template file can also reference the entry‚Äôs metadata so you could
set the <code>title</code> tag to our entry title for example.</p>
<pre><code class="language-html">&lt;!-- ./templates/layout/post.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;puggle - Blog&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    {% block content %}{% endblock %}
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<blockquote>
<p>You can‚Äôt reference metadata attributes in a page entry from another entry
because each entry can only know about its own metadata.</p>
</blockquote>
<p>Let‚Äôs index our blog‚Äôs entries in our blog page!</p>
<pre><code class="language-html">&lt;!-- ./templates/layout/blog.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Blog&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    Welcome to my blog.

    {% for page_name, page_entries in sections|items %}
      {% if page_name == "blog" %}
        &lt;ul&gt;
          {% for entry in entries %}
            &lt;li&gt;{{ entry.created_at|dateformat(format="short") }} - {{ entry.title }}&lt;/li&gt;
          {% endfor %}
        &lt;/ul&gt;
      {% endif %}
    {% endfor %}
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Would result in this HTML page</p>
<pre><code class="language-html">&lt;!-- ./dist/blog/index.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Blog&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    Welcome to my blog.

    &lt;ul&gt;
      &lt;li&gt;2024-06-29 - First post&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2>Conclusion</h2>
<p>I think <code>puggle</code> is pretty simple, and in a way, limited in what it can do. But
it‚Äôs flexible, and expressive enough especially thanks to <code>jinja2</code>, specifically
<a href="https://github.com/mitsuhiko/minijinja"><code>mitsuhiko/minijinja</code></a>. This entire site
uses <code>puggle</code>! Perhaps, in the future, I could extend <code>puggle</code> a bit more to be
easier to work with.</p>
<hr>
<p>Here‚Äôs the <code>puggle.yml</code> complete manifest.</p>
<pre><code class="language-yaml"># puggle.yml

## Relative or absolute path to your templates' root directory.
templates_dir: &lt;DIR_PATH&gt;

## Relative or absolute path to the directory you want the HTML pages to be.
dest_dir: &lt;DIR_PATH&gt;

pages:
  ## Define a standalone page
  - name: &lt;STRING&gt;
    # Relative path from `templates_dir`
    template_path: &lt;FILE_PATH&gt;

  ## Define a page with entries
  - name: &lt;STRING&gt;
    template_path: &lt;FILE_PATH&gt;

    ## Entries are, well, entries under a certain page. You may think of it like
    ## how you would with a blog with posts in it.
    entries:
      ## You may use a folder to put all your markdown files. `puggle` will also
      ## recursively traverse nested directories in this folder.
      - source_dir: &lt;DIR_PATH&gt;
        template_path: &lt;FILE_PATH&gt;

      ## Or you may directly reference a markdown file.
      - markdown_path: &lt;FILE_PATH&gt;
        template_path: &lt;FILE_PATH&gt;
</code></pre>


    <footer>
  <img style="width: 8rem;" src="/assets/images/not-by-ai.png">
  <div>
    Copyright <a href="https://github.com/sekunho">SEKUN</a> 2022-2025.
    Generated by <a href="/projects/puggle"><code>puggle</code></a>.
  </div>
</footer>

    <a rel="me" href="https://mastodon.social/@sekun" style="display: none;">Mastodon</a>
    <script>hljs.highlightAll();</script>

    <script>
      (function attachShadowRoots(root) {
        root.querySelectorAll("template[shadowrootmode]").forEach(template => {
          const mode = template.getAttribute("shadowrootmode");
          const shadowRoot = template.parentNode.attachShadow({ mode });

          shadowRoot.appendChild(template.content);
          template.remove();
          attachShadowRoots(shadowRoot);
        });
      })(document);
    </script>
  </body>
</html>